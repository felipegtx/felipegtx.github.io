(function(n){"use strict";if(typeof n.raska=="undefined")throw new{message:"Raska was not found!"};var s=raska.$$.$q,t=raska.$$.$h,o=raska.$$.$c,u={invalidElement:function(){this.message="Invalid element";this.code="AN0"}},f=function(){return n.requestAnimationFrame=function(){var t=null;return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.msRequestAnimationFrame||n.oRequestAnimationFrame||function(i){t!==null&&n.clearTimeout(t);t=n.setTimeout(i,o.frameRefreshRate)}}(),{execute:function(t){n.requestAnimationFrame(t)}}}();n.raska.baseAnimation={execute:function(){return t.$log.info("nope",element),this},resetElement:function(){return this}};var e=!1,r=function(){var n,i=[],r=[],u=!1,f=null;return n={register:function(t){return i.push(t),u===!0&&r.push(t),n},clearSavedStates:function(){return r.length=0,n},saveStates:function(){return u=!0,n},restoreFromSavedState:function(){if(i.length===0&&r.length>0)for(var t=0;t<(i=r.slice()).length;t++)i[t].resetElement();return n},execute:function(r,u){return i.length>0?i.shift().execute(function(){t.$obj.isType(u,"number")===!0?f=window.setTimeout(function(){n.execute(r,u)},u):n.execute(r)}):t.$obj.isType(r,"function")&&r(),n}}}(),i={fadeIn:function(e,o){if(!t.$obj.isValid(e))throw new u.invalidElement;var h=o||1,c=function(n,i){var u=e.getHeight(),o=e.getWidth(),s=0,h=0,r=!1,c=function(){f.execute(function(){r=!1;(s=e.getHeight())<u&&(e.setHeight(Math.min(n(s),u)),r=!0);(h=e.getWidth())<o&&(e.setWidth(Math.min(n(h),o)),r=!0);r===!0?c():t.$obj.isType(i,"function")===!0&&i()})};e.setWidth(0).setHeight(0);c()},s=t.$obj.extend(n.raska.baseAnimation,function(){var n=e.getWidth(),t=e.getHeight();return{step:h,resetElement:function(){return e.setWidth(n).setHeight(t),this},execute:function(n){return c(function(n){return n+s.step},n),s}}}(),!0);return r.register(s),i},fadeOut:function(e,o){if(!t.$obj.isValid(e))throw new u.invalidElement;var h=o||1,c=function(n,i){var u=0,o=0,s=e.getHeight(),h=e.getWidth(),r=!1,c=function(){f.execute(function(){r=!1;(s=e.getHeight())>u&&(e.setHeight(Math.max(n(s),u)),r=!0);(h=e.getWidth())>o&&(e.setWidth(Math.max(n(h),o)),r=!0);r===!0?c():t.$obj.isType(i,"function")===!0&&i()})};c()},s=t.$obj.extend(n.raska.baseAnimation,function(){var n=e.getWidth(),t=e.getHeight();return{step:h,resetElement:function(){return e.setWidth(n).setHeight(t),this},execute:function(n){return c(function(n){return n-s.step},n),s}}}(),!0);return r.register(s),i},move:function(f,e){if(!t.$obj.isValid(f)||!t.$obj.isType(e,"function"))throw new u.invalidElement;var o=f.getParent(),s=o===null?raska.getCanvasBoundaries():{maxW:o.getWidth(),maxH:o.getHeight()},c=function(n){var i=e(f.x,f.y);i.x>=s.maxW&&(i.x=0);i.y>=s.maxH&&(i.y=0);f.x=i.x;f.y=i.y;t.$obj.isType(n,"function")===!0&&n()},h=t.$obj.extend(n.raska.baseAnimation,function(){return{resetElement:function(){return this},execute:function(n){return c(n),h}}}(),!0);return r.register(h),i},then:function(){return i},execute:function(n){return r.execute(null,n),i},loop:function(u){var s=null,o;return e=!0,o=function(){s!==null&&window.clearTimeout(s);e===!0&&(r.restoreFromSavedState(),r.execute(function(){t.$obj.isType(u,"number")===!0?s=n.setTimeout(o,u):f.execute(o)},u))},o(),i},saveInitialStates:function(){return r.saveStates(),i},stop:function(){return e=!1,r.clearSavedStates(),i}};n.raska.animation=i})(window);
//# sourceMappingURL=raska.animation.min.js.map
